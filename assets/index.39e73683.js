import{T as ve,d as Ie,r as ye,o as Fe,O as Ge,c as Le,a as _e,t as Oe,b as Ce,e as Ae,f as De}from"./vendor.55c08f90.js";const Ue=function(){const I=document.createElement("link").relList;if(I&&I.supports&&I.supports("modulepreload"))return;for(const L of document.querySelectorAll('link[rel="modulepreload"]'))Y(L);new MutationObserver(L=>{for(const A of L)if(A.type==="childList")for(const F of A.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&Y(F)}).observe(document,{childList:!0,subtree:!0});function g(L){const A={};return L.integrity&&(A.integrity=L.integrity),L.referrerpolicy&&(A.referrerPolicy=L.referrerpolicy),L.crossorigin==="use-credentials"?A.credentials="include":L.crossorigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function Y(L){if(L.ep)return;L.ep=!0;const A=g(L);fetch(L.href,A)}};Ue();const Ne={animateCamera:(k,I,g,Y,L=2e3,A)=>{var F=new ve.Tween({x1:k.position.x,y1:k.position.y,z1:k.position.z,x2:I.target.x,y2:I.target.y,z2:I.target.z});F.to({x1:g.x,y1:g.y,z1:g.z,x2:Y.x,y2:Y.y,z2:Y.z},L),F.onUpdate(function(N){k.position.x=N.x1,k.position.y=N.y1,k.position.z=N.z1,I.target.x=N.x2,I.target.y=N.y2,I.target.z=N.z2,I.update()}),F.onComplete(function(){I.enabled=!0,A()}),F.easing(ve.Easing.Cubic.InOut),F.start()}};var He="/BingDwenDwen/assets/sky.1869128d.jpg",Be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAASFBMVEX////////////////////////////////////////////////////////////////////////////////////////////////OfZ3oAAAAGHRSTlMCCSZLGRQOazsw6bzWzbOimZGBc17eiVLsmOFWAAAAk0lEQVQY04WRWQ7DIAxEGxtiwOyQ5P43rVWhVm1kdT6fR+Pt8UfbS79wt9YYa/ftGxoA7wGMFD7UgHcoch7Mmwt1OGkMmuiEL7MFd1FvtbZOlwO7LbNHOktmzuUk9GJf5tkLpxgTlz6XXTBSy+kI4Ui5ES4sGaNyDKLIdUiKgrUQpaUyoL7OfXnlVOph72/Qn6brCeCNCf0cc6BdAAAAAElFTkSuQmCC",we="/BingDwenDwen/assets/tree.58a27fbb.png",ke="/BingDwenDwen/assets/flag.019cf1de.png";THREE.GLTFLoader=function(){function k(e){this.manager=e!==void 0?e:THREE.DefaultLoadingManager,this.dracoLoader=null}k.prototype={constructor:k,crossOrigin:"anonymous",load:function(e,n,a,t){var r=this,i;this.resourcePath!==void 0?i=this.resourcePath:this.path!==void 0?i=this.path:i=THREE.LoaderUtils.extractUrlBase(e),r.manager.itemStart(e);var s=function(l){t?t(l):console.error(l),r.manager.itemEnd(e),r.manager.itemError(e)},o=new THREE.FileLoader(r.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.load(e,function(l){try{r.parse(l,i,function(u){n(u),r.manager.itemEnd(e)},s)}catch(u){s(u)}},a,s)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},parse:function(e,n,a,t){var r,i={};if(typeof e=="string")r=e;else{var s=THREE.LoaderUtils.decodeText(new Uint8Array(e,0,4));if(s===F){try{i[g.KHR_BINARY_GLTF]=new C(e)}catch(c){t&&t(c);return}r=i[g.KHR_BINARY_GLTF].content}else r=THREE.LoaderUtils.decodeText(new Uint8Array(e))}var o=JSON.parse(r);if(o.asset===void 0||o.asset.version[0]<2){t&&t(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));return}if(o.extensionsUsed)for(var l=0;l<o.extensionsUsed.length;++l){var u=o.extensionsUsed[l],d=o.extensionsRequired||[];switch(u){case g.KHR_LIGHTS_PUNCTUAL:i[u]=new L(o);break;case g.KHR_MATERIALS_UNLIT:i[u]=new A(o);break;case g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:i[u]=new W;break;case g.KHR_DRACO_MESH_COMPRESSION:i[u]=new ee(o,this.dracoLoader);break;case g.MSFT_TEXTURE_DDS:i[g.MSFT_TEXTURE_DDS]=new Y;break;default:d.indexOf(u)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}var f=new H(o,i,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager});f.parse(function(c,T,E,p,v){var R={scene:c,scenes:T,cameras:E,animations:p,asset:v.asset,parser:f,userData:{}};ae(i,R,v),a(R)},t)}};function I(){var e={};return{get:function(n){return e[n]},add:function(n,a){e[n]=a},remove:function(n){delete e[n]},removeAll:function(){e={}}}}var g={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function Y(){if(!THREE.DDSLoader)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=g.MSFT_TEXTURE_DDS,this.ddsLoader=new THREE.DDSLoader}function L(e){this.name=g.KHR_LIGHTS_PUNCTUAL;var n=e.extensions&&e.extensions[g.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=n.lights||[]}L.prototype.loadLight=function(e){var n=this.lightDefs[e],a,t=new THREE.Color(16777215);n.color!==void 0&&t.fromArray(n.color);var r=n.range!==void 0?n.range:0;switch(n.type){case"directional":a=new THREE.DirectionalLight(t),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new THREE.PointLight(t),a.distance=r;break;case"spot":a=new THREE.SpotLight(t),a.distance=r,n.spot=n.spot||{},n.spot.innerConeAngle=n.spot.innerConeAngle!==void 0?n.spot.innerConeAngle:0,n.spot.outerConeAngle=n.spot.outerConeAngle!==void 0?n.spot.outerConeAngle:Math.PI/4,a.angle=n.spot.outerConeAngle,a.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return a.decay=2,n.intensity!==void 0&&(a.intensity=n.intensity),a.name=n.name||"light_"+e,Promise.resolve(a)};function A(e){this.name=g.KHR_MATERIALS_UNLIT}A.prototype.getMaterialType=function(e){return THREE.MeshBasicMaterial},A.prototype.extendParams=function(e,n,a){var t=[];e.color=new THREE.Color(1,1,1),e.opacity=1;var r=n.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){var i=r.baseColorFactor;e.color.fromArray(i),e.opacity=i[3]}r.baseColorTexture!==void 0&&t.push(a.assignTexture(e,"map",r.baseColorTexture.index))}return Promise.all(t)};var F="glTF",N=12,te={JSON:1313821514,BIN:5130562};function C(e){this.name=g.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(e,0,N);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==F)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var a=new DataView(e,N),t=0;t<a.byteLength;){var r=a.getUint32(t,!0);t+=4;var i=a.getUint32(t,!0);if(t+=4,i===te.JSON){var s=new Uint8Array(e,N+t,r);this.content=THREE.LoaderUtils.decodeText(s)}else if(i===te.BIN){var o=N+t;this.body=e.slice(o,o+r)}t+=r}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}function ee(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=g.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n}ee.prototype.decodePrimitive=function(e,n){var a=this.json,t=this.dracoLoader,r=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,s={},o={},l={};for(var u in i)u in B&&(s[B[u]]=i[u]);for(u in e.attributes)if(B[u]!==void 0&&i[u]!==void 0){var d=a.accessors[e.attributes[u]],f=G[d.componentType];l[B[u]]=f,o[B[u]]=d.normalized===!0}return n.getDependency("bufferView",r).then(function(c){return new Promise(function(T){t.decodeDracoFile(c,function(E){for(var p in E.attributes){var v=E.attributes[p],R=o[p];R!==void 0&&(v.normalized=R)}T(E)},s,l)})})};function W(){return{name:g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(e,n,a){var t=n.extensions[this.name],r=THREE.ShaderLib.standard,i=THREE.UniformsUtils.clone(r.uniforms),s=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),o=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),l=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	texelSpecular = sRGBToLinear( texelSpecular );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),u=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),d=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join(`
`),f=r.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",s).replace("#include <metalnessmap_pars_fragment>",o).replace("#include <roughnessmap_fragment>",l).replace("#include <metalnessmap_fragment>",u).replace("#include <lights_physical_fragment>",d);delete i.roughness,delete i.metalness,delete i.roughnessMap,delete i.metalnessMap,i.specular={value:new THREE.Color().setHex(1118481)},i.glossiness={value:.5},i.specularMap={value:null},i.glossinessMap={value:null},e.vertexShader=r.vertexShader,e.fragmentShader=f,e.uniforms=i,e.defines={STANDARD:""},e.color=new THREE.Color(1,1,1),e.opacity=1;var c=[];if(Array.isArray(t.diffuseFactor)){var T=t.diffuseFactor;e.color.fromArray(T),e.opacity=T[3]}if(t.diffuseTexture!==void 0&&c.push(a.assignTexture(e,"map",t.diffuseTexture.index)),e.emissive=new THREE.Color(0,0,0),e.glossiness=t.glossinessFactor!==void 0?t.glossinessFactor:1,e.specular=new THREE.Color(1,1,1),Array.isArray(t.specularFactor)&&e.specular.fromArray(t.specularFactor),t.specularGlossinessTexture!==void 0){var E=t.specularGlossinessTexture.index;c.push(a.assignTexture(e,"glossinessMap",E)),c.push(a.assignTexture(e,"specularMap",E))}return Promise.all(c)},createMaterial:function(e){var n=new THREE.ShaderMaterial({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return n.isGLTFSpecularGlossinessMaterial=!0,n.color=e.color,n.map=e.map===void 0?null:e.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=e.aoMap===void 0?null:e.aoMap,n.aoMapIntensity=1,n.emissive=e.emissive,n.emissiveIntensity=1,n.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,n.bumpMap=e.bumpMap===void 0?null:e.bumpMap,n.bumpScale=1,n.normalMap=e.normalMap===void 0?null:e.normalMap,e.normalScale&&(n.normalScale=e.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=e.specularMap===void 0?null:e.specularMap,n.specular=e.specular,n.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,n.glossiness=e.glossiness,n.alphaMap=null,n.envMap=e.envMap===void 0?null:e.envMap,n.envMapIntensity=1,n.refractionRatio=.98,n.extensions.derivatives=!0,n},cloneMaterial:function(e){var n=e.clone();n.isGLTFSpecularGlossinessMaterial=!0;for(var a=this.specularGlossinessParams,t=0,r=a.length;t<r;t++)n[a[t]]=e[a[t]];return n},refreshUniforms:function(e,n,a,t,r,i){if(r.isGLTFSpecularGlossinessMaterial===!0){var s=r.uniforms,o=r.defines;s.opacity.value=r.opacity,s.diffuse.value.copy(r.color),s.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),s.map.value=r.map,s.specularMap.value=r.specularMap,s.alphaMap.value=r.alphaMap,s.lightMap.value=r.lightMap,s.lightMapIntensity.value=r.lightMapIntensity,s.aoMap.value=r.aoMap,s.aoMapIntensity.value=r.aoMapIntensity;var l;r.map?l=r.map:r.specularMap?l=r.specularMap:r.displacementMap?l=r.displacementMap:r.normalMap?l=r.normalMap:r.bumpMap?l=r.bumpMap:r.glossinessMap?l=r.glossinessMap:r.alphaMap?l=r.alphaMap:r.emissiveMap&&(l=r.emissiveMap),l!==void 0&&(l.isWebGLRenderTarget&&(l=l.texture),l.matrixAutoUpdate===!0&&l.updateMatrix(),s.uvTransform.value.copy(l.matrix)),s.envMap.value=r.envMap,s.envMapIntensity.value=r.envMapIntensity,s.flipEnvMap.value=r.envMap&&r.envMap.isCubeTexture?-1:1,s.refractionRatio.value=r.refractionRatio,s.specular.value.copy(r.specular),s.glossiness.value=r.glossiness,s.glossinessMap.value=r.glossinessMap,s.emissiveMap.value=r.emissiveMap,s.bumpMap.value=r.bumpMap,s.normalMap.value=r.normalMap,s.displacementMap.value=r.displacementMap,s.displacementScale.value=r.displacementScale,s.displacementBias.value=r.displacementBias,s.glossinessMap.value!==null&&o.USE_GLOSSINESSMAP===void 0&&(o.USE_GLOSSINESSMAP="",o.USE_ROUGHNESSMAP=""),s.glossinessMap.value===null&&o.USE_GLOSSINESSMAP!==void 0&&(delete o.USE_GLOSSINESSMAP,delete o.USE_ROUGHNESSMAP)}}}}function S(e,n,a,t){THREE.Interpolant.call(this,e,n,a,t)}S.prototype=Object.create(THREE.Interpolant.prototype),S.prototype.constructor=S,S.prototype.copySampleValue_=function(e){for(var n=this.resultBuffer,a=this.sampleValues,t=this.valueSize,r=e*t*3+t,i=0;i!==t;i++)n[i]=a[r+i];return n},S.prototype.beforeStart_=S.prototype.copySampleValue_,S.prototype.afterEnd_=S.prototype.copySampleValue_,S.prototype.interpolate_=function(e,n,a,t){for(var r=this.resultBuffer,i=this.sampleValues,s=this.valueSize,o=s*2,l=s*3,u=t-n,d=(a-n)/u,f=d*d,c=f*d,T=e*l,E=T-l,p=2*c-3*f+1,v=c-2*f+d,R=-2*c+3*f,m=c-f,h=0;h!==s;h++){var M=i[E+h+s],D=i[E+h+o]*u,w=i[T+h+s],y=i[T+h]*u;r[h]=p*M+v*D+R*w+m*y}return r};var b={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123};THREE.Matrix3,THREE.Matrix4,THREE.Vector2,THREE.Vector3,THREE.Vector4,THREE.Texture;var G={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ie={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipMapNearestFilter,9985:THREE.LinearMipMapNearestFilter,9986:THREE.NearestMipMapLinearFilter,9987:THREE.LinearMipMapLinearFilter},q={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping};THREE.BackSide,THREE.FrontSide,THREE.NeverDepth,THREE.LessDepth,THREE.EqualDepth,THREE.LessEqualDepth,THREE.GreaterEqualDepth,THREE.NotEqualDepth,THREE.GreaterEqualDepth,THREE.AlwaysDepth,THREE.AddEquation,THREE.SubtractEquation,THREE.ReverseSubtractEquation,THREE.ZeroFactor,THREE.OneFactor,THREE.SrcColorFactor,THREE.OneMinusSrcColorFactor,THREE.SrcAlphaFactor,THREE.OneMinusSrcAlphaFactor,THREE.DstAlphaFactor,THREE.OneMinusDstAlphaFactor,THREE.DstColorFactor,THREE.OneMinusDstColorFactor,THREE.SrcAlphaSaturateFactor;var Z={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},B={POSITION:"position",NORMAL:"normal",TEXCOORD_0:"uv",TEXCOORD0:"uv",TEXCOORD:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",COLOR0:"color",COLOR:"color",WEIGHTS_0:"skinWeight",WEIGHT:"skinWeight",JOINTS_0:"skinIndex",JOINT:"skinIndex"},j={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Te={CUBICSPLINE:THREE.InterpolateSmooth,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},oe={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"},le={"image/png":THREE.RGBAFormat,"image/jpeg":THREE.RGBFormat};function ue(e,n){return typeof e!="string"||e===""?"":/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e}function fe(){return new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide})}function ae(e,n,a){for(var t in a.extensions)e[t]===void 0&&(n.userData.gltfExtensions=n.userData.gltfExtensions||{},n.userData.gltfExtensions[t]=a.extensions[t])}function V(e,n){n.extras!==void 0&&(typeof n.extras=="object"?e.userData=n.extras:console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+n.extras))}function Q(e,n,a){for(var t=!1,r=!1,i=0,s=n.length;i<s;i++){var o=n[i];if(o.POSITION!==void 0&&(t=!0),o.NORMAL!==void 0&&(r=!0),t&&r)break}if(!t&&!r)return Promise.resolve(e);for(var l=[],u=[],i=0,s=n.length;i<s;i++){var o=n[i];if(t){var d=o.POSITION!==void 0?a.getDependency("accessor",o.POSITION).then(function(E){return pe(E)}):e.attributes.position;l.push(d)}if(r){var d=o.NORMAL!==void 0?a.getDependency("accessor",o.NORMAL).then(function(p){return pe(p)}):e.attributes.normal;u.push(d)}}return Promise.all([Promise.all(l),Promise.all(u)]).then(function(f){for(var c=f[0],T=f[1],E=0,p=n.length;E<p;E++){var v=n[E],R="morphTarget"+E;if(t&&v.POSITION!==void 0){var m=c[E];m.name=R;for(var h=e.attributes.position,M=0,D=m.count;M<D;M++)m.setXYZ(M,m.getX(M)+h.getX(M),m.getY(M)+h.getY(M),m.getZ(M)+h.getZ(M))}if(r&&v.NORMAL!==void 0){var w=T[E];w.name=R;for(var y=e.attributes.normal,M=0,D=w.count;M<D;M++)w.setXYZ(M,w.getX(M)+y.getX(M),w.getY(M)+y.getY(M),w.getZ(M)+y.getZ(M))}}return t&&(e.morphAttributes.position=c),r&&(e.morphAttributes.normal=T),e})}function P(e,n){if(e.updateMorphTargets(),n.weights!==void 0)for(var a=0,t=n.weights.length;a<t;a++)e.morphTargetInfluences[a]=n.weights[a];if(n.extras&&Array.isArray(n.extras.targetNames)){var r=n.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(var a=0,t=r.length;a<t;a++)e.morphTargetDictionary[r[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function de(e,n){return e.indices!==n.indices?!1:J(e.attributes,n.attributes)}function J(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var a in e)if(e[a]!==n[a])return!1;return!0}function ne(e,n){if(e.length!==n.length)return!1;for(var a=0,t=e.length;a<t;a++)if(e[a]!==n[a])return!1;return!0}function ge(e,n){for(var a=0,t=e.length;a<t;a++){var r=e[a];if(de(r.primitive,n))return r.promise}return null}function Re(e,n){for(var a=0,t=e.length;a<t;a++){var r=e[a];if(ne(n,r.baseGeometries))return r.geometry}return null}function Se(e,n,a){for(var t=0,r=e.length;t<r;t++){var i=e[t];if(n===i.baseGeometry&&ne(a,i.primitives))return i.geometry}return null}function pe(e){if(e.isInterleavedBufferAttribute){for(var n=e.count,a=e.itemSize,t=e.array.slice(0,n*a),r=0;r<n;++r)t[r]=e.getX(r),a>=2&&(t[r+1]=e.getY(r)),a>=3&&(t[r+2]=e.getZ(r)),a>=4&&(t[r+3]=e.getW(r));return new THREE.BufferAttribute(t,a,e.normalized)}return e.clone()}function ce(e){if(e.length<2)return!1;var n=e[0],a=n.targets||[];if(n.indices===void 0)return!1;for(var t=1,r=e.length;t<r;t++){var i=e[t];if(n.mode!==i.mode||i.indices===void 0||!J(n.attributes,i.attributes))return!1;var s=i.targets||[];if(a.length!==s.length)return!1;for(var o=0,l=a.length;o<l;o++)if(!J(a[o],s[o]))return!1}return!0}function H(e,n,a){this.json=e||{},this.extensions=n||{},this.options=a||{},this.cache=new I,this.primitiveCache=[],this.multiplePrimitivesCache=[],this.multiPassGeometryCache=[],this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}H.prototype.parse=function(e,n){var a=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then(function(t){var r=t.scenes||[],i=r[a.scene||0],s=t.animations||[],o=t.cameras||[];e(i,r,o,s,a)}).catch(n)},H.prototype.markDefs=function(){for(var e=this.json.nodes||[],n=this.json.skins||[],a=this.json.meshes||[],t={},r={},i=0,s=n.length;i<s;i++)for(var o=n[i].joints,l=0,u=o.length;l<u;l++)e[o[l]].isBone=!0;for(var d=0,f=e.length;d<f;d++){var c=e[d];c.mesh!==void 0&&(t[c.mesh]===void 0&&(t[c.mesh]=r[c.mesh]=0),t[c.mesh]++,c.skin!==void 0&&(a[c.mesh].isSkinnedMesh=!0))}this.json.meshReferences=t,this.json.meshUses=r},H.prototype.getDependency=function(e,n){var a=e+":"+n,t=this.cache.get(a);if(!t){switch(e){case"scene":t=this.loadScene(n);break;case"node":t=this.loadNode(n);break;case"mesh":t=this.loadMesh(n);break;case"accessor":t=this.loadAccessor(n);break;case"bufferView":t=this.loadBufferView(n);break;case"buffer":t=this.loadBuffer(n);break;case"material":t=this.loadMaterial(n);break;case"texture":t=this.loadTexture(n);break;case"skin":t=this.loadSkin(n);break;case"animation":t=this.loadAnimation(n);break;case"camera":t=this.loadCamera(n);break;case"light":t=this.extensions[g.KHR_LIGHTS_PUNCTUAL].loadLight(n);break;default:throw new Error("Unknown type: "+e)}this.cache.add(a,t)}return t},H.prototype.getDependencies=function(e){var n=this.cache.get(e);if(!n){var a=this,t=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(t.map(function(r,i){return a.getDependency(e,i)})),this.cache.add(e,n)}return n},H.prototype.getMultiDependencies=function(e){for(var n={},a=[],t=0,r=e.length;t<r;t++){var i=e[t],s=this.getDependencies(i);s=s.then(function(o,l){n[o]=l}.bind(this,i+(i==="mesh"?"es":"s"))),a.push(s)}return Promise.all(a).then(function(){return n})},H.prototype.loadBuffer=function(e){var n=this.json.buffers[e],a=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[g.KHR_BINARY_GLTF].body);var t=this.options;return new Promise(function(r,i){a.load(ue(n.uri,t.path),r,void 0,function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})},H.prototype.loadBufferView=function(e){var n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(a){var t=n.byteLength||0,r=n.byteOffset||0;return a.slice(r,r+t)})},H.prototype.loadAccessor=function(e){var n=this,a=this.json,t=this.json.accessors[e];if(t.bufferView===void 0&&t.sparse===void 0)return null;var r=[];return t.bufferView!==void 0?r.push(this.getDependency("bufferView",t.bufferView)):r.push(null),t.sparse!==void 0&&(r.push(this.getDependency("bufferView",t.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",t.sparse.values.bufferView))),Promise.all(r).then(function(i){var s=i[0],o=Z[t.type],l=G[t.componentType],u=l.BYTES_PER_ELEMENT,d=u*o,f=t.byteOffset||0,c=t.bufferView!==void 0?a.bufferViews[t.bufferView].byteStride:void 0,T=t.normalized===!0,E,p;if(c&&c!==d){var v="InterleavedBuffer:"+t.bufferView+":"+t.componentType,R=n.cache.get(v);R||(E=new l(s),R=new THREE.InterleavedBuffer(E,c/u),n.cache.add(v,R)),p=new THREE.InterleavedBufferAttribute(R,o,f/u,T)}else s===null?E=new l(t.count*o):E=new l(s,f,t.count*o),p=new THREE.BufferAttribute(E,o,T);if(t.sparse!==void 0){var m=Z.SCALAR,h=G[t.sparse.indices.componentType],M=t.sparse.indices.byteOffset||0,D=t.sparse.values.byteOffset||0,w=new h(i[1],M,t.sparse.count*m),y=new l(i[2],D,t.sparse.count*o);s!==null&&p.setArray(p.array.slice());for(var x=0,U=w.length;x<U;x++){var O=w[x];if(p.setX(O,y[x*o]),o>=2&&p.setY(O,y[x*o+1]),o>=3&&p.setZ(O,y[x*o+2]),o>=4&&p.setW(O,y[x*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p})},H.prototype.loadTexture=function(e){var n=this,a=this.json,t=this.options,r=this.textureLoader,i=window.URL||window.webkitURL,s=a.textures[e],o=s.extensions||{},l;o[g.MSFT_TEXTURE_DDS]?l=a.images[o[g.MSFT_TEXTURE_DDS].source]:l=a.images[s.source];var u=l.uri,d=!1;return l.bufferView!==void 0&&(u=n.getDependency("bufferView",l.bufferView).then(function(f){d=!0;var c=new Blob([f],{type:l.mimeType});return u=i.createObjectURL(c),u})),Promise.resolve(u).then(function(f){var c=THREE.Loader.Handlers.get(f);return c||(c=o[g.MSFT_TEXTURE_DDS]?n.extensions[g.MSFT_TEXTURE_DDS].ddsLoader:r),new Promise(function(T,E){c.load(ue(f,t.path),T,void 0,E)})}).then(function(f){d===!0&&i.revokeObjectURL(u),f.flipY=!1,s.name!==void 0&&(f.name=s.name),l.mimeType in le&&(f.format=le[l.mimeType]);var c=a.samplers||{},T=c[s.sampler]||{};return f.magFilter=ie[T.magFilter]||THREE.LinearFilter,f.minFilter=ie[T.minFilter]||THREE.LinearMipMapLinearFilter,f.wrapS=q[T.wrapS]||THREE.RepeatWrapping,f.wrapT=q[T.wrapT]||THREE.RepeatWrapping,f})},H.prototype.assignTexture=function(e,n,a){return this.getDependency("texture",a).then(function(t){e[n]=t})},H.prototype.loadMaterial=function(e){var n=this,a=this.json,t=this.extensions,r=a.materials[e],i,s={},o=r.extensions||{},l=[];if(o[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=t[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];i=u.getMaterialType(r),l.push(u.extendParams(s,r,n))}else if(o[g.KHR_MATERIALS_UNLIT]){var d=t[g.KHR_MATERIALS_UNLIT];i=d.getMaterialType(r),l.push(d.extendParams(s,r,n))}else{i=THREE.MeshStandardMaterial;var f=r.pbrMetallicRoughness||{};if(s.color=new THREE.Color(1,1,1),s.opacity=1,Array.isArray(f.baseColorFactor)){var c=f.baseColorFactor;s.color.fromArray(c),s.opacity=c[3]}if(f.baseColorTexture!==void 0&&l.push(n.assignTexture(s,"map",f.baseColorTexture.index)),s.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,s.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0){var T=f.metallicRoughnessTexture.index;l.push(n.assignTexture(s,"metalnessMap",T)),l.push(n.assignTexture(s,"roughnessMap",T))}}r.doubleSided===!0&&(s.side=THREE.DoubleSide);var E=r.alphaMode||oe.OPAQUE;return E===oe.BLEND?s.transparent=!0:(s.transparent=!1,E===oe.MASK&&(s.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&i!==THREE.MeshBasicMaterial&&(l.push(n.assignTexture(s,"normalMap",r.normalTexture.index)),s.normalScale=new THREE.Vector2(1,1),r.normalTexture.scale!==void 0&&s.normalScale.set(r.normalTexture.scale,r.normalTexture.scale)),r.occlusionTexture!==void 0&&i!==THREE.MeshBasicMaterial&&(l.push(n.assignTexture(s,"aoMap",r.occlusionTexture.index)),r.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&i!==THREE.MeshBasicMaterial&&(s.emissive=new THREE.Color().fromArray(r.emissiveFactor)),r.emissiveTexture!==void 0&&i!==THREE.MeshBasicMaterial&&l.push(n.assignTexture(s,"emissiveMap",r.emissiveTexture.index)),Promise.all(l).then(function(){var p;return i===THREE.ShaderMaterial?p=t[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):p=new i(s),r.name!==void 0&&(p.name=r.name),p.normalScale&&(p.normalScale.y=-p.normalScale.y),p.map&&(p.map.encoding=THREE.sRGBEncoding),p.emissiveMap&&(p.emissiveMap.encoding=THREE.sRGBEncoding),p.specularMap&&(p.specularMap.encoding=THREE.sRGBEncoding),V(p,r),r.extensions&&ae(t,p,r),p})};function $(e,n,a){var t=n.attributes,r=[];function i(u,d){return a.getDependency("accessor",u).then(function(f){e.addAttribute(d,f)})}for(var s in t){var o=B[s];!o||o in e.attributes||r.push(i(t[s],o))}if(n.indices!==void 0&&!e.index){var l=a.getDependency("accessor",n.indices).then(function(u){e.setIndex(u)});r.push(l)}return V(e,n),Promise.all(r).then(function(){return n.targets!==void 0?Q(e,n.targets,a):e})}return H.prototype.loadGeometries=function(e){var n=this,a=this.extensions,t=this.primitiveCache,r=ce(e),i;r&&(i=e,e=[e[0]]);for(var s=[],o=0,l=e.length;o<l;o++){var u=e[o],d=ge(t,u);if(d)s.push(d);else{var f;u.extensions&&u.extensions[g.KHR_DRACO_MESH_COMPRESSION]?f=a[g.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(u,n).then(function(c){return $(c,u,n)}):f=$(new THREE.BufferGeometry,u,n),t.push({primitive:u,promise:f}),s.push(f)}}return Promise.all(s).then(function(c){if(r){var T=c[0],E=n.multiPassGeometryCache,p=Se(E,T,i);if(p!==null)return[p.geometry];var v=new THREE.BufferGeometry;v.name=T.name,v.userData=T.userData;for(var R in T.attributes)v.addAttribute(R,T.attributes[R]);for(var R in T.morphAttributes)v.morphAttributes[R]=T.morphAttributes[R];for(var m=[],h=0,M=i.length;h<M;h++)m.push(n.getDependency("accessor",i[h].indices));return Promise.all(m).then(function(D){for(var w=[],y=0,x=0,U=i.length;x<U;x++){for(var O=D[x],re=0,_=O.count;re<_;re++)w.push(O.array[re]);v.addGroup(y,O.count,x),y+=O.count}return v.setIndex(w),E.push({geometry:v,baseGeometry:T,primitives:i}),[v]})}else if(c.length>1&&THREE.BufferGeometryUtils!==void 0){for(var h=1,M=e.length;h<M;h++)if(e[0].mode!==e[h].mode)return c;var E=n.multiplePrimitivesCache,p=Re(E,c);if(p){if(p.geometry!==null)return[p.geometry]}else{var v=THREE.BufferGeometryUtils.mergeBufferGeometries(c,!0);if(E.push({geometry:v,baseGeometries:c}),v!==null)return[v]}}return c})},H.prototype.loadMesh=function(e){for(var n=this,a=this.json,t=this.extensions,r=a.meshes[e],i=r.primitives,s=[],o=0,l=i.length;o<l;o++){var u=i[o].material===void 0?fe():this.getDependency("material",i[o].material);s.push(u)}return Promise.all(s).then(function(d){return n.loadGeometries(i).then(function(f){for(var c=f.length===1&&f[0].groups.length>0,T=[],E=0,p=f.length;E<p;E++){var v=f[E],R=i[E],m,h=c?d:d[E];if(R.mode===b.TRIANGLES||R.mode===b.TRIANGLE_STRIP||R.mode===b.TRIANGLE_FAN||R.mode===void 0)m=r.isSkinnedMesh===!0?new THREE.SkinnedMesh(v,h):new THREE.Mesh(v,h),R.mode===b.TRIANGLE_STRIP?m.drawMode=THREE.TriangleStripDrawMode:R.mode===b.TRIANGLE_FAN&&(m.drawMode=THREE.TriangleFanDrawMode);else if(R.mode===b.LINES)m=new THREE.LineSegments(v,h);else if(R.mode===b.LINE_STRIP)m=new THREE.Line(v,h);else if(R.mode===b.LINE_LOOP)m=new THREE.LineLoop(v,h);else if(R.mode===b.POINTS)m=new THREE.Points(v,h);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+R.mode);Object.keys(m.geometry.morphAttributes).length>0&&P(m,r),m.name=r.name||"mesh_"+e,f.length>1&&(m.name+="_"+E),V(m,r),T.push(m);for(var M=c?m.material:[m.material],D=v.attributes.color!==void 0,w=v.attributes.normal===void 0,y=m.isSkinnedMesh===!0,x=Object.keys(v.morphAttributes).length>0,U=x&&v.morphAttributes.normal!==void 0,O=0,re=M.length;O<re;O++){var h=M[O];if(m.isPoints){var _="PointsMaterial:"+h.uuid,z=n.cache.get(_);z||(z=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(z,h),z.color.copy(h.color),z.map=h.map,z.lights=!1,n.cache.add(_,z)),h=z}else if(m.isLine){var _="LineBasicMaterial:"+h.uuid,K=n.cache.get(_);K||(K=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(K,h),K.color.copy(h.color),K.lights=!1,n.cache.add(_,K)),h=K}if(D||w||y||x){var _="ClonedMaterial:"+h.uuid+":";h.isGLTFSpecularGlossinessMaterial&&(_+="specular-glossiness:"),y&&(_+="skinning:"),D&&(_+="vertex-colors:"),w&&(_+="flat-shading:"),x&&(_+="morph-targets:"),U&&(_+="morph-normals:");var X=n.cache.get(_);X||(X=h.isGLTFSpecularGlossinessMaterial?t[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(h):h.clone(),y&&(X.skinning=!0),D&&(X.vertexColors=THREE.VertexColors),w&&(X.flatShading=!0),x&&(X.morphTargets=!0),U&&(X.morphNormals=!0),n.cache.add(_,X)),h=X}M[O]=h,h.aoMap&&v.attributes.uv2===void 0&&v.attributes.uv!==void 0&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),v.addAttribute("uv2",new THREE.BufferAttribute(v.attributes.uv.array,2))),h.isGLTFSpecularGlossinessMaterial&&(m.onBeforeRender=t[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms)}m.material=c?M:M[0]}if(T.length===1)return T[0];for(var Ee=new THREE.Group,E=0,p=T.length;E<p;E++)Ee.add(T[E]);return Ee})})},H.prototype.loadCamera=function(e){var n,a=this.json.cameras[e],t=a[a.type];if(!t){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return a.type==="perspective"?n=new THREE.PerspectiveCamera(THREE.Math.radToDeg(t.yfov),t.aspectRatio||1,t.znear||1,t.zfar||2e6):a.type==="orthographic"&&(n=new THREE.OrthographicCamera(t.xmag/-2,t.xmag/2,t.ymag/2,t.ymag/-2,t.znear,t.zfar)),a.name!==void 0&&(n.name=a.name),V(n,a),Promise.resolve(n)},H.prototype.loadSkin=function(e){var n=this.json.skins[e],a={joints:n.joints};return n.inverseBindMatrices===void 0?Promise.resolve(a):this.getDependency("accessor",n.inverseBindMatrices).then(function(t){return a.inverseBindMatrices=t,a})},H.prototype.loadAnimation=function(e){for(var n=this.json,a=n.animations[e],t=[],r=[],i=[],s=[],o=[],l=0,u=a.channels.length;l<u;l++){var d=a.channels[l],f=a.samplers[d.sampler],c=d.target,T=c.node!==void 0?c.node:c.id,E=a.parameters!==void 0?a.parameters[f.input]:f.input,p=a.parameters!==void 0?a.parameters[f.output]:f.output;t.push(this.getDependency("node",T)),r.push(this.getDependency("accessor",E)),i.push(this.getDependency("accessor",p)),s.push(f),o.push(c)}return Promise.all([Promise.all(t),Promise.all(r),Promise.all(i),Promise.all(s),Promise.all(o)]).then(function(v){for(var R=v[0],m=v[1],h=v[2],M=v[3],D=v[4],w=[],y=0,x=R.length;y<x;y++){var U=R[y],O=m[y],re=h[y],_=M[y],z=D[y];if(U!==void 0){U.updateMatrix(),U.matrixAutoUpdate=!0;var K;switch(j[z.path]){case j.weights:K=THREE.NumberKeyframeTrack;break;case j.rotation:K=THREE.QuaternionKeyframeTrack;break;case j.position:case j.scale:default:K=THREE.VectorKeyframeTrack;break}var X=U.name?U.name:U.uuid,Ee=_.interpolation!==void 0?Te[_.interpolation]:THREE.InterpolateLinear,he=[];j[z.path]===j.weights?U.traverse(function(se){se.isMesh===!0&&se.morphTargetInfluences&&he.push(se.name?se.name:se.uuid)}):he.push(X);for(var me=0,xe=he.length;me<xe;me++){var Me=new K(he[me]+"."+j[z.path],THREE.AnimationUtils.arraySlice(O.array,0),THREE.AnimationUtils.arraySlice(re.array,0),Ee);_.interpolation==="CUBICSPLINE"&&(Me.createInterpolant=function(Pe){return new S(this.times,this.values,this.getValueSize()/3,Pe)},Me.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),w.push(Me)}}}var be=a.name!==void 0?a.name:"animation_"+e;return new THREE.AnimationClip(be,void 0,w)})},H.prototype.loadNode=function(e){var n=this.json,a=this.extensions,t=this,r=n.meshReferences,i=n.meshUses,s=n.nodes[e];return new Promise(function(o){s.isBone===!0?o(new THREE.Bone):s.mesh!==void 0?t.getDependency("mesh",s.mesh).then(function(l){var u;if(r[s.mesh]>1){var d=i[s.mesh]++;u=l.clone(),u.name+="_instance_"+d,u.onBeforeRender=l.onBeforeRender;for(var f=0,c=u.children.length;f<c;f++)u.children[f].name+="_instance_"+d,u.children[f].onBeforeRender=l.children[f].onBeforeRender}else u=l;o(u)}):s.camera!==void 0?t.getDependency("camera",s.camera).then(o):s.extensions&&s.extensions[g.KHR_LIGHTS_PUNCTUAL]&&s.extensions[g.KHR_LIGHTS_PUNCTUAL].light!==void 0?t.getDependency("light",s.extensions[g.KHR_LIGHTS_PUNCTUAL].light).then(o):o(new THREE.Object3D)}).then(function(o){if(s.name!==void 0&&(o.name=THREE.PropertyBinding.sanitizeNodeName(s.name)),V(o,s),s.extensions&&ae(a,o,s),s.matrix!==void 0){var l=new THREE.Matrix4;l.fromArray(s.matrix),o.applyMatrix(l)}else s.translation!==void 0&&o.position.fromArray(s.translation),s.rotation!==void 0&&o.quaternion.fromArray(s.rotation),s.scale!==void 0&&o.scale.fromArray(s.scale);return o})},H.prototype.loadScene=function(){function e(n,a,t,r){var i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;var o;return r.getDependency("skin",i.skin).then(function(l){o=l;for(var u=[],d=0,f=o.joints.length;d<f;d++)u.push(r.getDependency("node",o.joints[d]));return Promise.all(u)}).then(function(l){for(var u=s.isGroup===!0?s.children:[s],d=0,f=u.length;d<f;d++){for(var c=u[d],T=[],E=[],p=0,v=l.length;p<v;p++){var R=l[p];if(R){T.push(R);var m=new THREE.Matrix4;o.inverseBindMatrices!==void 0&&m.fromArray(o.inverseBindMatrices.array,p*16),E.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[p])}c.bind(new THREE.Skeleton(T,E),c.matrixWorld)}return s})}).then(function(s){a.add(s);var o=[];if(i.children)for(var l=i.children,u=0,d=l.length;u<d;u++){var f=l[u];o.push(e(f,s,t,r))}return Promise.all(o)})}return function(a){var t=this.json,r=this.extensions,i=this.json.scenes[a],s=this,o=new THREE.Scene;i.name!==void 0&&(o.name=i.name),V(o,i),i.extensions&&ae(r,o,i);for(var l=i.nodes||[],u=[],d=0,f=l.length;d<f;d++)u.push(e(l[d],o,t,s));return Promise.all(u).then(function(){return o})}}(),k}();const Ve=_e("div",{id:"container"},null,-1),ze={key:0,class:"olympic_loading"},Ke={class:"box"},We=Ie({setup(k){const I="./models/land.glb",g="./models/tree.gltf",Y="./models/bingdwendwen.glb",L="./models/flag.glb",A=ye(0),F=ye(0);Fe(()=>{N()});const N=()=>{let te,C,ee,W,S,b,G,ie=null,q=[],Z=[],B=new THREE.Group,j=new THREE.Clock;Te(),le();function Te(){te=document.getElementById("container"),b=new THREE.WebGLRenderer({antialias:!0}),b.setPixelRatio(window.devicePixelRatio),b.setSize(window.innerWidth,window.innerHeight),b.shadowMap.enabled=!0,te.appendChild(b.domElement),S=new THREE.Scene,S.background=new THREE.TextureLoader().load(He),S.fog=new THREE.Fog(16777215,10,100),W=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,1e3),W.position.set(0,30,100),W.lookAt(new THREE.Vector3(0,0,0));const V=new THREE.BoxGeometry(.001,.001,.001),Q=new THREE.MeshLambertMaterial({color:14423578}),P=new THREE.Mesh(V,Q);P.position.set(0,0,0),G=new THREE.DirectionalLight(16777215,1),G.intensity=1,G.position.set(16,16,8),G.castShadow=!0,G.target=P,G.shadow.mapSize.width=512*12,G.shadow.mapSize.height=512*12,G.shadow.camera.top=40,G.shadow.camera.bottom=-40,G.shadow.camera.left=-40,G.shadow.camera.right=40,S.add(G);const de=new THREE.AmbientLight(13631487);de.intensity=1,S.add(de);const J=new THREE.LoadingManager;J.onStart=(e,n,a)=>{console.log(e),console.log(n),console.log(a)},J.onLoad=()=>{console.log("Loading complete!")},J.onProgress=async(e,n,a)=>{Math.floor(n/a*100)===100?(F.value&&clearTimeout(F.value),F.value=setTimeout(()=>{A.value=Math.floor(n/a*100),Ne.animateCamera(W,C,{x:0,y:-1,z:20},{x:0,y:0,z:0},3600,()=>{})},800)):A.value=Math.floor(n/a*100)};const ne=new THREE.GLTFLoader(J);ne.load(I,function(e){e.scene.traverse(function(n){n.isMesh&&(q.push(n),n.material.metalness=.1,n.material.roughness=.8,n.name==="Mesh_2"&&(n.material.metalness=.5,n.receiveShadow=!0),n.name==="Mesh_17"&&(n.material.metalness=.2,n.material.roughness=.8),n.name==="Mesh_17")}),e.scene.rotation.y=Math.PI/4,e.scene.position.set(15,-20,0),e.scene.scale.set(.9,.9,.9),ie=e.scene,S.add(ie)}),ne.load(L,e=>{e.scene.traverse(r=>{r.isMesh&&(q.push(r),r.castShadow=!0,r.name==="mesh_0001"&&(r.material.metalness=.1,r.material.roughness=.1,r.material.map=new THREE.TextureLoader().load(ke)),r.name==="\u67F1\u4F53"&&(r.material.metalness=.6,r.material.roughness=0,r.material.refractionRatio=1,r.material.color=new THREE.Color(15658734)))}),e.scene.rotation.y=Math.PI/24,e.scene.position.set(2,-7,-1),e.scene.scale.set(4,4,4);let n=e.animations[0];ee=new THREE.AnimationMixer(e.scene);let a=n;a=ee.clipAction(a).play().getClip(),S.add(e.scene)}),ne.load(Y,function(e){e.scene.traverse(function(n){n.isMesh&&(q.push(n),n.name==="oldtiger001"&&(n.material.metalness=.3,n.material.roughness=.8),n.name==="oldtiger002"&&(n.material.transparent=!0,n.material.opacity=.4,n.material.metalness=.3,n.material.roughness=0,n.material.refractionRatio=1.6,n.castShadow=!0,n.material.envMap=new THREE.TextureLoader().load(He),n.material.envMapIntensity=1))}),e.scene.rotation.y=Math.PI/24,e.scene.position.set(-8,-11.5,0),e.scene.scale.set(24,24,24),S.add(e.scene)});let ge=new THREE.MeshPhysicalMaterial({map:new THREE.TextureLoader().load(we),transparent:!0,side:THREE.DoubleSide,metalness:.2,roughness:.8,depthTest:!0,depthWrite:!1,skinning:!1,fog:!1,reflectivity:.1,refractionRatio:0}),Re=new THREE.MeshDepthMaterial({depthPacking:THREE.RGBADepthPacking,map:new THREE.TextureLoader().load(we),alphaTest:.5});ne.load(g,function(e){e.scene.traverse(function(t){t.isMesh&&(q.push(t),t.material=ge,t.custromMaterial=Re)}),e.scene.position.set(14,-9,0),e.scene.scale.set(16,16,16),S.add(e.scene);let n=e.scene.clone();n.position.set(10,-8,-15),n.scale.set(18,18,18),S.add(n);let a=e.scene.clone();a.position.set(-18,-8,-16),a.scale.set(22,22,22),S.add(a)}),[{key:"cycle_0",color:558530,position:{x:-250,y:0,z:0}},{key:"cycle_1",color:0,position:{x:-10,y:0,z:5}},{key:"cycle_2",color:15545166,position:{x:230,y:0,z:0}},{key:"cycle_3",color:16494898,position:{x:-125,y:-100,z:-5}},{key:"cycle_4",color:1870652,position:{x:115,y:-100,z:10}}].map(e=>{let n=new THREE.Mesh(new THREE.TorusGeometry(100,10,10,50),new THREE.MeshLambertMaterial({color:new THREE.Color(e.color),side:THREE.DoubleSide}));n.castShadow=!0,n.position.set(e.position.x,e.position.y,e.position.z),q.push(n),B.add(n)}),B.scale.set(.036,.036,.036),B.position.set(0,10,-8),S.add(B);let pe=new THREE.TextureLoader().load(Be),ce=new THREE.Geometry,H=new THREE.PointsMaterial({size:1,transparent:!0,opacity:.8,map:pe,blending:THREE.AdditiveBlending,sizeAttenuation:!0,depthTest:!1}),$=100;for(let e=0;e<1500;e++){let n=new THREE.Vector3(Math.random()*$-$/2,Math.random()*$*1.5,Math.random()*$-$/2);n.velocityY=.1+Math.random()/3,n.velocityX=(Math.random()-.5)/3,ce.vertices.push(n)}ce.center(),Z=new THREE.Points(ce,H),Z.position.y=-30,S.add(Z),C=new Ge(W,b.domElement),C.target.set(0,0,0),C.enableDamping=!0,C.enablePan=!1,C.enableZoom=!1,C.minPolarAngle=1.4,C.maxPolarAngle=1.8,C.minAzimuthAngle=-.8,C.maxAzimuthAngle=.8,window.addEventListener("resize",oe,!1)}function oe(){W.aspect=window.innerWidth/window.innerHeight,W.updateProjectionMatrix(),b.setSize(window.innerWidth,window.innerHeight)}function le(){requestAnimationFrame(le),b.render(S,W),C&&C.update(),ve&&ve.update(),B&&(B.rotation.y+=.01),Z.geometry.vertices.forEach(function(P){P.y=P.y-P.velocityY,P.x=P.x-P.velocityX,P.y<=0&&(P.y=60),(P.x<=-20||P.x>=20)&&(P.velocityX=P.velocityX*-1)}),Z.geometry.verticesNeedUpdate=!0;let Q=j.getDelta();ee&&ee.update(Q)}const ue=new THREE.Raycaster,fe=new THREE.Vector2;function ae(V){fe.x=V.clientX/window.innerWidth*2-1,fe.y=-(V.clientY/window.innerHeight)*2+1,ue.setFromCamera(fe,W);const Q=ue.intersectObjects(q);Q.length>0&&console.log(Q[0].object)}window.addEventListener("click",ae,!1)};return(te,C)=>(Ae(),Le("div",null,[Ve,A.value!==100?(Ae(),Le("div",ze,[_e("div",Ke,Oe(A.value)+" %",1)])):Ce("",!0)]))}}),Xe=De(We);Xe.mount("#app");
