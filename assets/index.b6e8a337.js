import{T as he,d as Ie,r as ye,o as Fe,O as Ge,c as Le,a as _e,t as Oe,b as Ce,e as Ae,f as De}from"./vendor.68873d94.js";const Ue=function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))Y(A);new MutationObserver(A=>{for(const b of A)if(b.type==="childList")for(const I of b.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&Y(I)}).observe(document,{childList:!0,subtree:!0});function g(A){const b={};return A.integrity&&(b.integrity=A.integrity),A.referrerpolicy&&(b.referrerPolicy=A.referrerpolicy),A.crossorigin==="use-credentials"?b.credentials="include":A.crossorigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function Y(A){if(A.ep)return;A.ep=!0;const b=g(A);fetch(A.href,b)}};Ue();const Ne={animateCamera:(k,x,g,Y,A=2e3,b)=>{var I=new he.Tween({x1:k.position.x,y1:k.position.y,z1:k.position.z,x2:x.target.x,y2:x.target.y,z2:x.target.z});I.to({x1:g.x,y1:g.y,z1:g.z,x2:Y.x,y2:Y.y,z2:Y.z},A),I.onUpdate(function(C){k.position.x=C.x1,k.position.y=C.y1,k.position.z=C.z1,x.target.x=C.x2,x.target.y=C.y2,x.target.z=C.z2,x.update()}),I.onComplete(function(){x.enabled=!0,b()}),I.easing(he.Easing.Cubic.InOut),I.start()}};var He="/BingDwenDwen/assets/sky.1869128d.jpg",Be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAASFBMVEX////////////////////////////////////////////////////////////////////////////////////////////////OfZ3oAAAAGHRSTlMCCSZLGRQOazsw6bzWzbOimZGBc17eiVLsmOFWAAAAk0lEQVQY04WRWQ7DIAxEGxtiwOyQ5P43rVWhVm1kdT6fR+Pt8UfbS79wt9YYa/ftGxoA7wGMFD7UgHcoch7Mmwt1OGkMmuiEL7MFd1FvtbZOlwO7LbNHOktmzuUk9GJf5tkLpxgTlz6XXTBSy+kI4Ui5ES4sGaNyDKLIdUiKgrUQpaUyoL7OfXnlVOph72/Qn6brCeCNCf0cc6BdAAAAAElFTkSuQmCC",we="/BingDwenDwen/assets/tree.58a27fbb.png",ke="/BingDwenDwen/assets/flag.019cf1de.png";THREE.GLTFLoader=function(){function k(n){this.manager=n!==void 0?n:THREE.DefaultLoadingManager,this.dracoLoader=null}k.prototype={constructor:k,crossOrigin:"anonymous",load:function(n,e,r,t){var a=this,i;this.resourcePath!==void 0?i=this.resourcePath:this.path!==void 0?i=this.path:i=THREE.LoaderUtils.extractUrlBase(n),a.manager.itemStart(n);var s=function(l){t?t(l):console.error(l),a.manager.itemEnd(n),a.manager.itemError(n)},o=new THREE.FileLoader(a.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.load(n,function(l){try{a.parse(l,i,function(u){e(u),a.manager.itemEnd(n)},s)}catch(u){s(u)}},r,s)},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this},setResourcePath:function(n){return this.resourcePath=n,this},setDRACOLoader:function(n){return this.dracoLoader=n,this},parse:function(n,e,r,t){var a,i={};if(typeof n=="string")a=n;else{var s=THREE.LoaderUtils.decodeText(new Uint8Array(n,0,4));if(s===I){try{i[g.KHR_BINARY_GLTF]=new se(n)}catch(c){t&&t(c);return}a=i[g.KHR_BINARY_GLTF].content}else a=THREE.LoaderUtils.decodeText(new Uint8Array(n))}var o=JSON.parse(a);if(o.asset===void 0||o.asset.version[0]<2){t&&t(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));return}if(o.extensionsUsed)for(var l=0;l<o.extensionsUsed.length;++l){var u=o.extensionsUsed[l],d=o.extensionsRequired||[];switch(u){case g.KHR_LIGHTS_PUNCTUAL:i[u]=new A(o);break;case g.KHR_MATERIALS_UNLIT:i[u]=new b(o);break;case g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:i[u]=new ne;break;case g.KHR_DRACO_MESH_COMPRESSION:i[u]=new G(o,this.dracoLoader);break;case g.MSFT_TEXTURE_DDS:i[g.MSFT_TEXTURE_DDS]=new Y;break;default:d.indexOf(u)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}var f=new L(o,i,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager});f.parse(function(c,T,E,p,v){var R={scene:c,scenes:T,cameras:E,animations:p,asset:v.asset,parser:f,userData:{}};q(i,R,v),r(R)},t)}};function x(){var n={};return{get:function(e){return n[e]},add:function(e,r){n[e]=r},remove:function(e){delete n[e]},removeAll:function(){n={}}}}var g={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function Y(){if(!THREE.DDSLoader)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=g.MSFT_TEXTURE_DDS,this.ddsLoader=new THREE.DDSLoader}function A(n){this.name=g.KHR_LIGHTS_PUNCTUAL;var e=n.extensions&&n.extensions[g.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=e.lights||[]}A.prototype.loadLight=function(n){var e=this.lightDefs[n],r,t=new THREE.Color(16777215);e.color!==void 0&&t.fromArray(e.color);var a=e.range!==void 0?e.range:0;switch(e.type){case"directional":r=new THREE.DirectionalLight(t),r.target.position.set(0,0,-1),r.add(r.target);break;case"point":r=new THREE.PointLight(t),r.distance=a;break;case"spot":r=new THREE.SpotLight(t),r.distance=a,e.spot=e.spot||{},e.spot.innerConeAngle=e.spot.innerConeAngle!==void 0?e.spot.innerConeAngle:0,e.spot.outerConeAngle=e.spot.outerConeAngle!==void 0?e.spot.outerConeAngle:Math.PI/4,r.angle=e.spot.outerConeAngle,r.penumbra=1-e.spot.innerConeAngle/e.spot.outerConeAngle,r.target.position.set(0,0,-1),r.add(r.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+e.type+'".')}return r.decay=2,e.intensity!==void 0&&(r.intensity=e.intensity),r.name=e.name||"light_"+n,Promise.resolve(r)};function b(n){this.name=g.KHR_MATERIALS_UNLIT}b.prototype.getMaterialType=function(n){return THREE.MeshBasicMaterial},b.prototype.extendParams=function(n,e,r){var t=[];n.color=new THREE.Color(1,1,1),n.opacity=1;var a=e.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var i=a.baseColorFactor;n.color.fromArray(i),n.opacity=i[3]}a.baseColorTexture!==void 0&&t.push(r.assignTexture(n,"map",a.baseColorTexture.index))}return Promise.all(t)};var I="glTF",C=12,ue={JSON:1313821514,BIN:5130562};function se(n){this.name=g.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(n,0,C);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(n.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==I)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var r=new DataView(n,C),t=0;t<r.byteLength;){var a=r.getUint32(t,!0);t+=4;var i=r.getUint32(t,!0);if(t+=4,i===ue.JSON){var s=new Uint8Array(n,C+t,a);this.content=THREE.LoaderUtils.decodeText(s)}else if(i===ue.BIN){var o=C+t;this.body=n.slice(o,o+a)}t+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}function G(n,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=g.KHR_DRACO_MESH_COMPRESSION,this.json=n,this.dracoLoader=e}G.prototype.decodePrimitive=function(n,e){var r=this.json,t=this.dracoLoader,a=n.extensions[this.name].bufferView,i=n.extensions[this.name].attributes,s={},o={},l={};for(var u in i)u in z&&(s[z[u]]=i[u]);for(u in n.attributes)if(z[u]!==void 0&&i[u]!==void 0){var d=r.accessors[n.attributes[u]],f=V[d.componentType];l[z[u]]=f,o[z[u]]=d.normalized===!0}return e.getDependency("bufferView",a).then(function(c){return new Promise(function(T){t.decodeDracoFile(c,function(E){for(var p in E.attributes){var v=E.attributes[p],R=o[p];R!==void 0&&(v.normalized=R)}T(E)},s,l)})})};function ne(){return{name:g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(n,e,r){var t=e.extensions[this.name],a=THREE.ShaderLib.standard,i=THREE.UniformsUtils.clone(a.uniforms),s=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),o=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),l=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	texelSpecular = sRGBToLinear( texelSpecular );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),u=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),d=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join(`
`),f=a.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",s).replace("#include <metalnessmap_pars_fragment>",o).replace("#include <roughnessmap_fragment>",l).replace("#include <metalnessmap_fragment>",u).replace("#include <lights_physical_fragment>",d);delete i.roughness,delete i.metalness,delete i.roughnessMap,delete i.metalnessMap,i.specular={value:new THREE.Color().setHex(1118481)},i.glossiness={value:.5},i.specularMap={value:null},i.glossinessMap={value:null},n.vertexShader=a.vertexShader,n.fragmentShader=f,n.uniforms=i,n.defines={STANDARD:""},n.color=new THREE.Color(1,1,1),n.opacity=1;var c=[];if(Array.isArray(t.diffuseFactor)){var T=t.diffuseFactor;n.color.fromArray(T),n.opacity=T[3]}if(t.diffuseTexture!==void 0&&c.push(r.assignTexture(n,"map",t.diffuseTexture.index)),n.emissive=new THREE.Color(0,0,0),n.glossiness=t.glossinessFactor!==void 0?t.glossinessFactor:1,n.specular=new THREE.Color(1,1,1),Array.isArray(t.specularFactor)&&n.specular.fromArray(t.specularFactor),t.specularGlossinessTexture!==void 0){var E=t.specularGlossinessTexture.index;c.push(r.assignTexture(n,"glossinessMap",E)),c.push(r.assignTexture(n,"specularMap",E))}return Promise.all(c)},createMaterial:function(n){var e=new THREE.ShaderMaterial({defines:n.defines,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,uniforms:n.uniforms,fog:!0,lights:!0,opacity:n.opacity,transparent:n.transparent});return e.isGLTFSpecularGlossinessMaterial=!0,e.color=n.color,e.map=n.map===void 0?null:n.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=n.aoMap===void 0?null:n.aoMap,e.aoMapIntensity=1,e.emissive=n.emissive,e.emissiveIntensity=1,e.emissiveMap=n.emissiveMap===void 0?null:n.emissiveMap,e.bumpMap=n.bumpMap===void 0?null:n.bumpMap,e.bumpScale=1,e.normalMap=n.normalMap===void 0?null:n.normalMap,n.normalScale&&(e.normalScale=n.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=n.specularMap===void 0?null:n.specularMap,e.specular=n.specular,e.glossinessMap=n.glossinessMap===void 0?null:n.glossinessMap,e.glossiness=n.glossiness,e.alphaMap=null,e.envMap=n.envMap===void 0?null:n.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e.extensions.derivatives=!0,e},cloneMaterial:function(n){var e=n.clone();e.isGLTFSpecularGlossinessMaterial=!0;for(var r=this.specularGlossinessParams,t=0,a=r.length;t<a;t++)e[r[t]]=n[r[t]];return e},refreshUniforms:function(n,e,r,t,a,i){if(a.isGLTFSpecularGlossinessMaterial===!0){var s=a.uniforms,o=a.defines;s.opacity.value=a.opacity,s.diffuse.value.copy(a.color),s.emissive.value.copy(a.emissive).multiplyScalar(a.emissiveIntensity),s.map.value=a.map,s.specularMap.value=a.specularMap,s.alphaMap.value=a.alphaMap,s.lightMap.value=a.lightMap,s.lightMapIntensity.value=a.lightMapIntensity,s.aoMap.value=a.aoMap,s.aoMapIntensity.value=a.aoMapIntensity;var l;a.map?l=a.map:a.specularMap?l=a.specularMap:a.displacementMap?l=a.displacementMap:a.normalMap?l=a.normalMap:a.bumpMap?l=a.bumpMap:a.glossinessMap?l=a.glossinessMap:a.alphaMap?l=a.alphaMap:a.emissiveMap&&(l=a.emissiveMap),l!==void 0&&(l.isWebGLRenderTarget&&(l=l.texture),l.matrixAutoUpdate===!0&&l.updateMatrix(),s.uvTransform.value.copy(l.matrix)),s.envMap.value=a.envMap,s.envMapIntensity.value=a.envMapIntensity,s.flipEnvMap.value=a.envMap&&a.envMap.isCubeTexture?-1:1,s.refractionRatio.value=a.refractionRatio,s.specular.value.copy(a.specular),s.glossiness.value=a.glossiness,s.glossinessMap.value=a.glossinessMap,s.emissiveMap.value=a.emissiveMap,s.bumpMap.value=a.bumpMap,s.normalMap.value=a.normalMap,s.displacementMap.value=a.displacementMap,s.displacementScale.value=a.displacementScale,s.displacementBias.value=a.displacementBias,s.glossinessMap.value!==null&&o.USE_GLOSSINESSMAP===void 0&&(o.USE_GLOSSINESSMAP="",o.USE_ROUGHNESSMAP=""),s.glossinessMap.value===null&&o.USE_GLOSSINESSMAP!==void 0&&(delete o.USE_GLOSSINESSMAP,delete o.USE_ROUGHNESSMAP)}}}}function w(n,e,r,t){THREE.Interpolant.call(this,n,e,r,t)}w.prototype=Object.create(THREE.Interpolant.prototype),w.prototype.constructor=w,w.prototype.copySampleValue_=function(n){for(var e=this.resultBuffer,r=this.sampleValues,t=this.valueSize,a=n*t*3+t,i=0;i!==t;i++)e[i]=r[a+i];return e},w.prototype.beforeStart_=w.prototype.copySampleValue_,w.prototype.afterEnd_=w.prototype.copySampleValue_,w.prototype.interpolate_=function(n,e,r,t){for(var a=this.resultBuffer,i=this.sampleValues,s=this.valueSize,o=s*2,l=s*3,u=t-e,d=(r-e)/u,f=d*d,c=f*d,T=n*l,E=T-l,p=2*c-3*f+1,v=c-2*f+d,R=-2*c+3*f,m=c-f,h=0;h!==s;h++){var M=i[E+h+s],N=i[E+h+o]*u,H=i[T+h+s],S=i[T+h]*u;a[h]=p*M+v*N+R*H+m*S}return a};var y={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123};THREE.Matrix3,THREE.Matrix4,THREE.Vector2,THREE.Vector3,THREE.Vector4,THREE.Texture;var V={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},D={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipMapNearestFilter,9985:THREE.LinearMipMapNearestFilter,9986:THREE.NearestMipMapLinearFilter,9987:THREE.LinearMipMapLinearFilter},ie={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping};THREE.BackSide,THREE.FrontSide,THREE.NeverDepth,THREE.LessDepth,THREE.EqualDepth,THREE.LessEqualDepth,THREE.GreaterEqualDepth,THREE.NotEqualDepth,THREE.GreaterEqualDepth,THREE.AlwaysDepth,THREE.AddEquation,THREE.SubtractEquation,THREE.ReverseSubtractEquation,THREE.ZeroFactor,THREE.OneFactor,THREE.SrcColorFactor,THREE.OneMinusSrcColorFactor,THREE.SrcAlphaFactor,THREE.OneMinusSrcAlphaFactor,THREE.DstAlphaFactor,THREE.OneMinusDstAlphaFactor,THREE.DstColorFactor,THREE.OneMinusDstColorFactor,THREE.SrcAlphaSaturateFactor;var j={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},z={POSITION:"position",NORMAL:"normal",TEXCOORD_0:"uv",TEXCOORD0:"uv",TEXCOORD:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",COLOR0:"color",COLOR:"color",WEIGHTS_0:"skinWeight",WEIGHT:"skinWeight",JOINTS_0:"skinIndex",JOINT:"skinIndex"},U={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ve={CUBICSPLINE:THREE.InterpolateSmooth,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},oe={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"},fe={"image/png":THREE.RGBAFormat,"image/jpeg":THREE.RGBFormat};function le(n,e){return typeof n!="string"||n===""?"":/^(https?:)?\/\//i.test(n)||/^data:.*,.*$/i.test(n)||/^blob:.*$/i.test(n)?n:e+n}function ce(){return new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide})}function q(n,e,r){for(var t in r.extensions)n[t]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[t]=r.extensions[t])}function Z(n,e){e.extras!==void 0&&(typeof e.extras=="object"?n.userData=e.extras:console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function J(n,e,r){for(var t=!1,a=!1,i=0,s=e.length;i<s;i++){var o=e[i];if(o.POSITION!==void 0&&(t=!0),o.NORMAL!==void 0&&(a=!0),t&&a)break}if(!t&&!a)return Promise.resolve(n);for(var l=[],u=[],i=0,s=e.length;i<s;i++){var o=e[i];if(t){var d=o.POSITION!==void 0?r.getDependency("accessor",o.POSITION).then(function(E){return Re(E)}):n.attributes.position;l.push(d)}if(a){var d=o.NORMAL!==void 0?r.getDependency("accessor",o.NORMAL).then(function(p){return Re(p)}):n.attributes.normal;u.push(d)}}return Promise.all([Promise.all(l),Promise.all(u)]).then(function(f){for(var c=f[0],T=f[1],E=0,p=e.length;E<p;E++){var v=e[E],R="morphTarget"+E;if(t&&v.POSITION!==void 0){var m=c[E];m.name=R;for(var h=n.attributes.position,M=0,N=m.count;M<N;M++)m.setXYZ(M,m.getX(M)+h.getX(M),m.getY(M)+h.getY(M),m.getZ(M)+h.getZ(M))}if(a&&v.NORMAL!==void 0){var H=T[E];H.name=R;for(var S=n.attributes.normal,M=0,N=H.count;M<N;M++)H.setXYZ(M,H.getX(M)+S.getX(M),H.getY(M)+S.getY(M),H.getZ(M)+S.getZ(M))}}return t&&(n.morphAttributes.position=c),a&&(n.morphAttributes.normal=T),n})}function Q(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(var r=0,t=e.weights.length;r<t;r++)n.morphTargetInfluences[r]=e.weights[r];if(e.extras&&Array.isArray(e.extras.targetNames)){var a=e.extras.targetNames;if(n.morphTargetInfluences.length===a.length){n.morphTargetDictionary={};for(var r=0,t=a.length;r<t;r++)n.morphTargetDictionary[a[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function F(n,e){return n.indices!==e.indices?!1:re(n.attributes,e.attributes)}function re(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(var r in n)if(n[r]!==e[r])return!1;return!0}function $(n,e){if(n.length!==e.length)return!1;for(var r=0,t=n.length;r<t;r++)if(n[r]!==e[r])return!1;return!0}function te(n,e){for(var r=0,t=n.length;r<t;r++){var a=n[r];if(F(a.primitive,e))return a.promise}return null}function Te(n,e){for(var r=0,t=n.length;r<t;r++){var a=n[r];if($(e,a.baseGeometries))return a.geometry}return null}function ge(n,e,r){for(var t=0,a=n.length;t<a;t++){var i=n[t];if(e===i.baseGeometry&&$(r,i.primitives))return i.geometry}return null}function Re(n){if(n.isInterleavedBufferAttribute){for(var e=n.count,r=n.itemSize,t=n.array.slice(0,e*r),a=0;a<e;++a)t[a]=n.getX(a),r>=2&&(t[a+1]=n.getY(a)),r>=3&&(t[a+2]=n.getZ(a)),r>=4&&(t[a+3]=n.getW(a));return new THREE.BufferAttribute(t,r,n.normalized)}return n.clone()}function me(n){if(n.length<2)return!1;var e=n[0],r=e.targets||[];if(e.indices===void 0)return!1;for(var t=1,a=n.length;t<a;t++){var i=n[t];if(e.mode!==i.mode||i.indices===void 0||!re(e.attributes,i.attributes))return!1;var s=i.targets||[];if(r.length!==s.length)return!1;for(var o=0,l=r.length;o<l;o++)if(!re(r[o],s[o]))return!1}return!0}function L(n,e,r){this.json=n||{},this.extensions=e||{},this.options=r||{},this.cache=new x,this.primitiveCache=[],this.multiplePrimitivesCache=[],this.multiPassGeometryCache=[],this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}L.prototype.parse=function(n,e){var r=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then(function(t){var a=t.scenes||[],i=a[r.scene||0],s=t.animations||[],o=t.cameras||[];n(i,a,o,s,r)}).catch(e)},L.prototype.markDefs=function(){for(var n=this.json.nodes||[],e=this.json.skins||[],r=this.json.meshes||[],t={},a={},i=0,s=e.length;i<s;i++)for(var o=e[i].joints,l=0,u=o.length;l<u;l++)n[o[l]].isBone=!0;for(var d=0,f=n.length;d<f;d++){var c=n[d];c.mesh!==void 0&&(t[c.mesh]===void 0&&(t[c.mesh]=a[c.mesh]=0),t[c.mesh]++,c.skin!==void 0&&(r[c.mesh].isSkinnedMesh=!0))}this.json.meshReferences=t,this.json.meshUses=a},L.prototype.getDependency=function(n,e){var r=n+":"+e,t=this.cache.get(r);if(!t){switch(n){case"scene":t=this.loadScene(e);break;case"node":t=this.loadNode(e);break;case"mesh":t=this.loadMesh(e);break;case"accessor":t=this.loadAccessor(e);break;case"bufferView":t=this.loadBufferView(e);break;case"buffer":t=this.loadBuffer(e);break;case"material":t=this.loadMaterial(e);break;case"texture":t=this.loadTexture(e);break;case"skin":t=this.loadSkin(e);break;case"animation":t=this.loadAnimation(e);break;case"camera":t=this.loadCamera(e);break;case"light":t=this.extensions[g.KHR_LIGHTS_PUNCTUAL].loadLight(e);break;default:throw new Error("Unknown type: "+n)}this.cache.add(r,t)}return t},L.prototype.getDependencies=function(n){var e=this.cache.get(n);if(!e){var r=this,t=this.json[n+(n==="mesh"?"es":"s")]||[];e=Promise.all(t.map(function(a,i){return r.getDependency(n,i)})),this.cache.add(n,e)}return e},L.prototype.getMultiDependencies=function(n){for(var e={},r=[],t=0,a=n.length;t<a;t++){var i=n[t],s=this.getDependencies(i);s=s.then(function(o,l){e[o]=l}.bind(this,i+(i==="mesh"?"es":"s"))),r.push(s)}return Promise.all(r).then(function(){return e})},L.prototype.loadBuffer=function(n){var e=this.json.buffers[n],r=this.fileLoader;if(e.type&&e.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(e.uri===void 0&&n===0)return Promise.resolve(this.extensions[g.KHR_BINARY_GLTF].body);var t=this.options;return new Promise(function(a,i){r.load(le(e.uri,t.path),a,void 0,function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})},L.prototype.loadBufferView=function(n){var e=this.json.bufferViews[n];return this.getDependency("buffer",e.buffer).then(function(r){var t=e.byteLength||0,a=e.byteOffset||0;return r.slice(a,a+t)})},L.prototype.loadAccessor=function(n){var e=this,r=this.json,t=this.json.accessors[n];if(t.bufferView===void 0&&t.sparse===void 0)return null;var a=[];return t.bufferView!==void 0?a.push(this.getDependency("bufferView",t.bufferView)):a.push(null),t.sparse!==void 0&&(a.push(this.getDependency("bufferView",t.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",t.sparse.values.bufferView))),Promise.all(a).then(function(i){var s=i[0],o=j[t.type],l=V[t.componentType],u=l.BYTES_PER_ELEMENT,d=u*o,f=t.byteOffset||0,c=t.bufferView!==void 0?r.bufferViews[t.bufferView].byteStride:void 0,T=t.normalized===!0,E,p;if(c&&c!==d){var v="InterleavedBuffer:"+t.bufferView+":"+t.componentType,R=e.cache.get(v);R||(E=new l(s),R=new THREE.InterleavedBuffer(E,c/u),e.cache.add(v,R)),p=new THREE.InterleavedBufferAttribute(R,o,f/u,T)}else s===null?E=new l(t.count*o):E=new l(s,f,t.count*o),p=new THREE.BufferAttribute(E,o,T);if(t.sparse!==void 0){var m=j.SCALAR,h=V[t.sparse.indices.componentType],M=t.sparse.indices.byteOffset||0,N=t.sparse.values.byteOffset||0,H=new h(i[1],M,t.sparse.count*m),S=new l(i[2],N,t.sparse.count*o);s!==null&&p.setArray(p.array.slice());for(var P=0,B=H.length;P<B;P++){var O=H[P];if(p.setX(O,S[P*o]),o>=2&&p.setY(O,S[P*o+1]),o>=3&&p.setZ(O,S[P*o+2]),o>=4&&p.setW(O,S[P*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p})},L.prototype.loadTexture=function(n){var e=this,r=this.json,t=this.options,a=this.textureLoader,i=window.URL||window.webkitURL,s=r.textures[n],o=s.extensions||{},l;o[g.MSFT_TEXTURE_DDS]?l=r.images[o[g.MSFT_TEXTURE_DDS].source]:l=r.images[s.source];var u=l.uri,d=!1;return l.bufferView!==void 0&&(u=e.getDependency("bufferView",l.bufferView).then(function(f){d=!0;var c=new Blob([f],{type:l.mimeType});return u=i.createObjectURL(c),u})),Promise.resolve(u).then(function(f){var c=THREE.Loader.Handlers.get(f);return c||(c=o[g.MSFT_TEXTURE_DDS]?e.extensions[g.MSFT_TEXTURE_DDS].ddsLoader:a),new Promise(function(T,E){c.load(le(f,t.path),T,void 0,E)})}).then(function(f){d===!0&&i.revokeObjectURL(u),f.flipY=!1,s.name!==void 0&&(f.name=s.name),l.mimeType in fe&&(f.format=fe[l.mimeType]);var c=r.samplers||{},T=c[s.sampler]||{};return f.magFilter=D[T.magFilter]||THREE.LinearFilter,f.minFilter=D[T.minFilter]||THREE.LinearMipMapLinearFilter,f.wrapS=ie[T.wrapS]||THREE.RepeatWrapping,f.wrapT=ie[T.wrapT]||THREE.RepeatWrapping,f})},L.prototype.assignTexture=function(n,e,r){return this.getDependency("texture",r).then(function(t){n[e]=t})},L.prototype.loadMaterial=function(n){var e=this,r=this.json,t=this.extensions,a=r.materials[n],i,s={},o=a.extensions||{},l=[];if(o[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=t[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];i=u.getMaterialType(a),l.push(u.extendParams(s,a,e))}else if(o[g.KHR_MATERIALS_UNLIT]){var d=t[g.KHR_MATERIALS_UNLIT];i=d.getMaterialType(a),l.push(d.extendParams(s,a,e))}else{i=THREE.MeshStandardMaterial;var f=a.pbrMetallicRoughness||{};if(s.color=new THREE.Color(1,1,1),s.opacity=1,Array.isArray(f.baseColorFactor)){var c=f.baseColorFactor;s.color.fromArray(c),s.opacity=c[3]}if(f.baseColorTexture!==void 0&&l.push(e.assignTexture(s,"map",f.baseColorTexture.index)),s.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,s.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0){var T=f.metallicRoughnessTexture.index;l.push(e.assignTexture(s,"metalnessMap",T)),l.push(e.assignTexture(s,"roughnessMap",T))}}a.doubleSided===!0&&(s.side=THREE.DoubleSide);var E=a.alphaMode||oe.OPAQUE;return E===oe.BLEND?s.transparent=!0:(s.transparent=!1,E===oe.MASK&&(s.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&i!==THREE.MeshBasicMaterial&&(l.push(e.assignTexture(s,"normalMap",a.normalTexture.index)),s.normalScale=new THREE.Vector2(1,1),a.normalTexture.scale!==void 0&&s.normalScale.set(a.normalTexture.scale,a.normalTexture.scale)),a.occlusionTexture!==void 0&&i!==THREE.MeshBasicMaterial&&(l.push(e.assignTexture(s,"aoMap",a.occlusionTexture.index)),a.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&i!==THREE.MeshBasicMaterial&&(s.emissive=new THREE.Color().fromArray(a.emissiveFactor)),a.emissiveTexture!==void 0&&i!==THREE.MeshBasicMaterial&&l.push(e.assignTexture(s,"emissiveMap",a.emissiveTexture.index)),Promise.all(l).then(function(){var p;return i===THREE.ShaderMaterial?p=t[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):p=new i(s),a.name!==void 0&&(p.name=a.name),p.normalScale&&(p.normalScale.y=-p.normalScale.y),p.map&&(p.map.encoding=THREE.sRGBEncoding),p.emissiveMap&&(p.emissiveMap.encoding=THREE.sRGBEncoding),p.specularMap&&(p.specularMap.encoding=THREE.sRGBEncoding),Z(p,a),a.extensions&&q(t,p,a),p})};function de(n,e,r){var t=e.attributes,a=[];function i(u,d){return r.getDependency("accessor",u).then(function(f){n.addAttribute(d,f)})}for(var s in t){var o=z[s];!o||o in n.attributes||a.push(i(t[s],o))}if(e.indices!==void 0&&!n.index){var l=r.getDependency("accessor",e.indices).then(function(u){n.setIndex(u)});a.push(l)}return Z(n,e),Promise.all(a).then(function(){return e.targets!==void 0?J(n,e.targets,r):n})}return L.prototype.loadGeometries=function(n){var e=this,r=this.extensions,t=this.primitiveCache,a=me(n),i;a&&(i=n,n=[n[0]]);for(var s=[],o=0,l=n.length;o<l;o++){var u=n[o],d=te(t,u);if(d)s.push(d);else{var f;u.extensions&&u.extensions[g.KHR_DRACO_MESH_COMPRESSION]?f=r[g.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(u,e).then(function(c){return de(c,u,e)}):f=de(new THREE.BufferGeometry,u,e),t.push({primitive:u,promise:f}),s.push(f)}}return Promise.all(s).then(function(c){if(a){var T=c[0],E=e.multiPassGeometryCache,p=ge(E,T,i);if(p!==null)return[p.geometry];var v=new THREE.BufferGeometry;v.name=T.name,v.userData=T.userData;for(var R in T.attributes)v.addAttribute(R,T.attributes[R]);for(var R in T.morphAttributes)v.morphAttributes[R]=T.morphAttributes[R];for(var m=[],h=0,M=i.length;h<M;h++)m.push(e.getDependency("accessor",i[h].indices));return Promise.all(m).then(function(N){for(var H=[],S=0,P=0,B=i.length;P<B;P++){for(var O=N[P],ee=0,_=O.count;ee<_;ee++)H.push(O.array[ee]);v.addGroup(S,O.count,P),S+=O.count}return v.setIndex(H),E.push({geometry:v,baseGeometry:T,primitives:i}),[v]})}else if(c.length>1&&THREE.BufferGeometryUtils!==void 0){for(var h=1,M=n.length;h<M;h++)if(n[0].mode!==n[h].mode)return c;var E=e.multiplePrimitivesCache,p=Te(E,c);if(p){if(p.geometry!==null)return[p.geometry]}else{var v=THREE.BufferGeometryUtils.mergeBufferGeometries(c,!0);if(E.push({geometry:v,baseGeometries:c}),v!==null)return[v]}}return c})},L.prototype.loadMesh=function(n){for(var e=this,r=this.json,t=this.extensions,a=r.meshes[n],i=a.primitives,s=[],o=0,l=i.length;o<l;o++){var u=i[o].material===void 0?ce():this.getDependency("material",i[o].material);s.push(u)}return Promise.all(s).then(function(d){return e.loadGeometries(i).then(function(f){for(var c=f.length===1&&f[0].groups.length>0,T=[],E=0,p=f.length;E<p;E++){var v=f[E],R=i[E],m,h=c?d:d[E];if(R.mode===y.TRIANGLES||R.mode===y.TRIANGLE_STRIP||R.mode===y.TRIANGLE_FAN||R.mode===void 0)m=a.isSkinnedMesh===!0?new THREE.SkinnedMesh(v,h):new THREE.Mesh(v,h),R.mode===y.TRIANGLE_STRIP?m.drawMode=THREE.TriangleStripDrawMode:R.mode===y.TRIANGLE_FAN&&(m.drawMode=THREE.TriangleFanDrawMode);else if(R.mode===y.LINES)m=new THREE.LineSegments(v,h);else if(R.mode===y.LINE_STRIP)m=new THREE.Line(v,h);else if(R.mode===y.LINE_LOOP)m=new THREE.LineLoop(v,h);else if(R.mode===y.POINTS)m=new THREE.Points(v,h);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+R.mode);Object.keys(m.geometry.morphAttributes).length>0&&Q(m,a),m.name=a.name||"mesh_"+n,f.length>1&&(m.name+="_"+E),Z(m,a),T.push(m);for(var M=c?m.material:[m.material],N=v.attributes.color!==void 0,H=v.attributes.normal===void 0,S=m.isSkinnedMesh===!0,P=Object.keys(v.morphAttributes).length>0,B=P&&v.morphAttributes.normal!==void 0,O=0,ee=M.length;O<ee;O++){var h=M[O];if(m.isPoints){var _="PointsMaterial:"+h.uuid,K=e.cache.get(_);K||(K=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(K,h),K.color.copy(h.color),K.map=h.map,K.lights=!1,e.cache.add(_,K)),h=K}else if(m.isLine){var _="LineBasicMaterial:"+h.uuid,W=e.cache.get(_);W||(W=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(W,h),W.color.copy(h.color),W.lights=!1,e.cache.add(_,W)),h=W}if(N||H||S||P){var _="ClonedMaterial:"+h.uuid+":";h.isGLTFSpecularGlossinessMaterial&&(_+="specular-glossiness:"),S&&(_+="skinning:"),N&&(_+="vertex-colors:"),H&&(_+="flat-shading:"),P&&(_+="morph-targets:"),B&&(_+="morph-normals:");var X=e.cache.get(_);X||(X=h.isGLTFSpecularGlossinessMaterial?t[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(h):h.clone(),S&&(X.skinning=!0),N&&(X.vertexColors=THREE.VertexColors),H&&(X.flatShading=!0),P&&(X.morphTargets=!0),B&&(X.morphNormals=!0),e.cache.add(_,X)),h=X}M[O]=h,h.aoMap&&v.attributes.uv2===void 0&&v.attributes.uv!==void 0&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),v.addAttribute("uv2",new THREE.BufferAttribute(v.attributes.uv.array,2))),h.isGLTFSpecularGlossinessMaterial&&(m.onBeforeRender=t[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms)}m.material=c?M:M[0]}if(T.length===1)return T[0];for(var pe=new THREE.Group,E=0,p=T.length;E<p;E++)pe.add(T[E]);return pe})})},L.prototype.loadCamera=function(n){var e,r=this.json.cameras[n],t=r[r.type];if(!t){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?e=new THREE.PerspectiveCamera(THREE.Math.radToDeg(t.yfov),t.aspectRatio||1,t.znear||1,t.zfar||2e6):r.type==="orthographic"&&(e=new THREE.OrthographicCamera(t.xmag/-2,t.xmag/2,t.ymag/2,t.ymag/-2,t.znear,t.zfar)),r.name!==void 0&&(e.name=r.name),Z(e,r),Promise.resolve(e)},L.prototype.loadSkin=function(n){var e=this.json.skins[n],r={joints:e.joints};return e.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",e.inverseBindMatrices).then(function(t){return r.inverseBindMatrices=t,r})},L.prototype.loadAnimation=function(n){for(var e=this.json,r=e.animations[n],t=[],a=[],i=[],s=[],o=[],l=0,u=r.channels.length;l<u;l++){var d=r.channels[l],f=r.samplers[d.sampler],c=d.target,T=c.node!==void 0?c.node:c.id,E=r.parameters!==void 0?r.parameters[f.input]:f.input,p=r.parameters!==void 0?r.parameters[f.output]:f.output;t.push(this.getDependency("node",T)),a.push(this.getDependency("accessor",E)),i.push(this.getDependency("accessor",p)),s.push(f),o.push(c)}return Promise.all([Promise.all(t),Promise.all(a),Promise.all(i),Promise.all(s),Promise.all(o)]).then(function(v){for(var R=v[0],m=v[1],h=v[2],M=v[3],N=v[4],H=[],S=0,P=R.length;S<P;S++){var B=R[S],O=m[S],ee=h[S],_=M[S],K=N[S];if(B!==void 0){B.updateMatrix(),B.matrixAutoUpdate=!0;var W;switch(U[K.path]){case U.weights:W=THREE.NumberKeyframeTrack;break;case U.rotation:W=THREE.QuaternionKeyframeTrack;break;case U.position:case U.scale:default:W=THREE.VectorKeyframeTrack;break}var X=B.name?B.name:B.uuid,pe=_.interpolation!==void 0?ve[_.interpolation]:THREE.InterpolateLinear,Ee=[];U[K.path]===U.weights?B.traverse(function(ae){ae.isMesh===!0&&ae.morphTargetInfluences&&Ee.push(ae.name?ae.name:ae.uuid)}):Ee.push(X);for(var Me=0,xe=Ee.length;Me<xe;Me++){var Se=new W(Ee[Me]+"."+U[K.path],THREE.AnimationUtils.arraySlice(O.array,0),THREE.AnimationUtils.arraySlice(ee.array,0),pe);_.interpolation==="CUBICSPLINE"&&(Se.createInterpolant=function(Pe){return new w(this.times,this.values,this.getValueSize()/3,Pe)},Se.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),H.push(Se)}}}var be=r.name!==void 0?r.name:"animation_"+n;return new THREE.AnimationClip(be,void 0,H)})},L.prototype.loadNode=function(n){var e=this.json,r=this.extensions,t=this,a=e.meshReferences,i=e.meshUses,s=e.nodes[n];return new Promise(function(o){s.isBone===!0?o(new THREE.Bone):s.mesh!==void 0?t.getDependency("mesh",s.mesh).then(function(l){var u;if(a[s.mesh]>1){var d=i[s.mesh]++;u=l.clone(),u.name+="_instance_"+d,u.onBeforeRender=l.onBeforeRender;for(var f=0,c=u.children.length;f<c;f++)u.children[f].name+="_instance_"+d,u.children[f].onBeforeRender=l.children[f].onBeforeRender}else u=l;o(u)}):s.camera!==void 0?t.getDependency("camera",s.camera).then(o):s.extensions&&s.extensions[g.KHR_LIGHTS_PUNCTUAL]&&s.extensions[g.KHR_LIGHTS_PUNCTUAL].light!==void 0?t.getDependency("light",s.extensions[g.KHR_LIGHTS_PUNCTUAL].light).then(o):o(new THREE.Object3D)}).then(function(o){if(s.name!==void 0&&(o.name=THREE.PropertyBinding.sanitizeNodeName(s.name)),Z(o,s),s.extensions&&q(r,o,s),s.matrix!==void 0){var l=new THREE.Matrix4;l.fromArray(s.matrix),o.applyMatrix(l)}else s.translation!==void 0&&o.position.fromArray(s.translation),s.rotation!==void 0&&o.quaternion.fromArray(s.rotation),s.scale!==void 0&&o.scale.fromArray(s.scale);return o})},L.prototype.loadScene=function(){function n(e,r,t,a){var i=t.nodes[e];return a.getDependency("node",e).then(function(s){if(i.skin===void 0)return s;var o;return a.getDependency("skin",i.skin).then(function(l){o=l;for(var u=[],d=0,f=o.joints.length;d<f;d++)u.push(a.getDependency("node",o.joints[d]));return Promise.all(u)}).then(function(l){for(var u=s.isGroup===!0?s.children:[s],d=0,f=u.length;d<f;d++){for(var c=u[d],T=[],E=[],p=0,v=l.length;p<v;p++){var R=l[p];if(R){T.push(R);var m=new THREE.Matrix4;o.inverseBindMatrices!==void 0&&m.fromArray(o.inverseBindMatrices.array,p*16),E.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[p])}c.bind(new THREE.Skeleton(T,E),c.matrixWorld)}return s})}).then(function(s){r.add(s);var o=[];if(i.children)for(var l=i.children,u=0,d=l.length;u<d;u++){var f=l[u];o.push(n(f,s,t,a))}return Promise.all(o)})}return function(r){var t=this.json,a=this.extensions,i=this.json.scenes[r],s=this,o=new THREE.Scene;i.name!==void 0&&(o.name=i.name),Z(o,i),i.extensions&&q(a,o,i);for(var l=i.nodes||[],u=[],d=0,f=l.length;d<f;d++)u.push(n(l[d],o,t,s));return Promise.all(u).then(function(){return o})}}(),k}();const Ve=_e("div",{id:"container"},null,-1),ze={key:0,class:"olympic_loading"},Ke={class:"box"},We=Ie({setup(k){const x="/BingDwenDwen/",g=x+"models/land.glb",Y=x+"models/tree.gltf",A=x+"models/bingdwendwen.glb",b=x+"models/flag.glb",I=ye(0),C=ye(0);Fe(()=>{ue()});const ue=()=>{let se,G,ne,w,y,V,D,ie=null,j=[],z=[],U=new THREE.Group,ve=new THREE.Clock;oe(),le();function oe(){se=document.getElementById("container"),V=new THREE.WebGLRenderer({antialias:!0}),V.setPixelRatio(window.devicePixelRatio),V.setSize(window.innerWidth,window.innerHeight),V.shadowMap.enabled=!0,se.appendChild(V.domElement),y=new THREE.Scene,y.background=new THREE.TextureLoader().load(He),y.fog=new THREE.Fog(16777215,10,100),w=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,1e3),w.position.set(0,30,100),w.lookAt(new THREE.Vector3(0,0,0));const J=new THREE.BoxGeometry(.001,.001,.001),Q=new THREE.MeshLambertMaterial({color:14423578}),F=new THREE.Mesh(J,Q);F.position.set(0,0,0),D=new THREE.DirectionalLight(16777215,1),D.intensity=1,D.position.set(16,16,8),D.castShadow=!0,D.target=F,D.shadow.mapSize.width=512*12,D.shadow.mapSize.height=512*12,D.shadow.camera.top=40,D.shadow.camera.bottom=-40,D.shadow.camera.left=-40,D.shadow.camera.right=40,y.add(D);const re=new THREE.AmbientLight(13631487);re.intensity=1,y.add(re);const $=new THREE.LoadingManager;$.onStart=(e,r,t)=>{console.log(e),console.log(r),console.log(t)},$.onLoad=()=>{console.log("Loading complete!")},$.onProgress=async(e,r,t)=>{Math.floor(r/t*100)===100?(C.value&&clearTimeout(C.value),C.value=setTimeout(()=>{I.value=Math.floor(r/t*100),Ne.animateCamera(w,G,{x:0,y:-1,z:20},{x:0,y:0,z:0},3600,()=>{})},800)):I.value=Math.floor(r/t*100)};const te=new THREE.GLTFLoader($);te.load(g,function(e){e.scene.traverse(function(r){r.isMesh&&(j.push(r),r.material.metalness=.1,r.material.roughness=.8,r.name==="Mesh_2"&&(r.material.metalness=.5,r.receiveShadow=!0),r.name==="Mesh_17"&&(r.material.metalness=.2,r.material.roughness=.8),r.name==="Mesh_17")}),e.scene.rotation.y=Math.PI/4,e.scene.position.set(15,-20,0),e.scene.scale.set(.9,.9,.9),ie=e.scene,y.add(ie)}),te.load(b,e=>{e.scene.traverse(i=>{i.isMesh&&(j.push(i),i.castShadow=!0,i.name==="mesh_0001"&&(i.material.metalness=.1,i.material.roughness=.1,i.material.map=new THREE.TextureLoader().load(ke)),i.name==="\u67F1\u4F53"&&(i.material.metalness=.6,i.material.roughness=0,i.material.refractionRatio=1,i.material.color=new THREE.Color(15658734)))}),e.scene.rotation.y=Math.PI/24,e.scene.position.set(2,-7,-1),e.scene.scale.set(4,4,4);let r=e.animations[0];ne=new THREE.AnimationMixer(e.scene);let t=r;t=ne.clipAction(t).play().getClip(),y.add(e.scene)}),te.load(A,function(e){e.scene.traverse(function(r){r.isMesh&&(j.push(r),r.name==="oldtiger001"&&(r.material.metalness=.3,r.material.roughness=.8),r.name==="oldtiger002"&&(r.material.transparent=!0,r.material.opacity=.4,r.material.metalness=.3,r.material.roughness=0,r.material.refractionRatio=1.6,r.castShadow=!0,r.material.envMap=new THREE.TextureLoader().load(He),r.material.envMapIntensity=1))}),e.scene.rotation.y=Math.PI/24,e.scene.position.set(-8,-11.5,0),e.scene.scale.set(24,24,24),y.add(e.scene)});let Te=new THREE.MeshPhysicalMaterial({map:new THREE.TextureLoader().load(we),transparent:!0,side:THREE.DoubleSide,metalness:.2,roughness:.8,depthTest:!0,depthWrite:!1,skinning:!1,fog:!1,reflectivity:.1,refractionRatio:0}),ge=new THREE.MeshDepthMaterial({depthPacking:THREE.RGBADepthPacking,map:new THREE.TextureLoader().load(we),alphaTest:.5});te.load(Y,function(e){e.scene.traverse(function(a){a.isMesh&&(j.push(a),a.material=Te,a.custromMaterial=ge)}),e.scene.position.set(14,-9,0),e.scene.scale.set(16,16,16),y.add(e.scene);let r=e.scene.clone();r.position.set(10,-8,-15),r.scale.set(18,18,18),y.add(r);let t=e.scene.clone();t.position.set(-18,-8,-16),t.scale.set(22,22,22),y.add(t)}),[{key:"cycle_0",color:558530,position:{x:-250,y:0,z:0}},{key:"cycle_1",color:0,position:{x:-10,y:0,z:5}},{key:"cycle_2",color:15545166,position:{x:230,y:0,z:0}},{key:"cycle_3",color:16494898,position:{x:-125,y:-100,z:-5}},{key:"cycle_4",color:1870652,position:{x:115,y:-100,z:10}}].map(e=>{let r=new THREE.Mesh(new THREE.TorusGeometry(100,10,10,50),new THREE.MeshLambertMaterial({color:new THREE.Color(e.color),side:THREE.DoubleSide}));r.castShadow=!0,r.position.set(e.position.x,e.position.y,e.position.z),j.push(r),U.add(r)}),U.scale.set(.036,.036,.036),U.position.set(0,10,-8),y.add(U);let me=new THREE.TextureLoader().load(Be),L=new THREE.Geometry,de=new THREE.PointsMaterial({size:1,transparent:!0,opacity:.8,map:me,blending:THREE.AdditiveBlending,sizeAttenuation:!0,depthTest:!1}),n=100;for(let e=0;e<1500;e++){let r=new THREE.Vector3(Math.random()*n-n/2,Math.random()*n*1.5,Math.random()*n-n/2);r.velocityY=.1+Math.random()/3,r.velocityX=(Math.random()-.5)/3,L.vertices.push(r)}L.center(),z=new THREE.Points(L,de),z.position.y=-30,y.add(z),G=new Ge(w,V.domElement),G.target.set(0,0,0),G.enableDamping=!0,G.enablePan=!1,G.enableZoom=!1,G.minPolarAngle=1.4,G.maxPolarAngle=1.8,G.minAzimuthAngle=-.8,G.maxAzimuthAngle=.8,window.addEventListener("resize",fe,!1)}function fe(){w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix(),V.setSize(window.innerWidth,window.innerHeight)}function le(){requestAnimationFrame(le),V.render(y,w),G&&G.update(),he&&he.update(),U&&(U.rotation.y+=.01),z.geometry.vertices.forEach(function(F){F.y=F.y-F.velocityY,F.x=F.x-F.velocityX,F.y<=0&&(F.y=60),(F.x<=-20||F.x>=20)&&(F.velocityX=F.velocityX*-1)}),z.geometry.verticesNeedUpdate=!0;let Q=ve.getDelta();ne&&ne.update(Q)}const ce=new THREE.Raycaster,q=new THREE.Vector2;function Z(J){q.x=J.clientX/window.innerWidth*2-1,q.y=-(J.clientY/window.innerHeight)*2+1,ce.setFromCamera(q,w);const Q=ce.intersectObjects(j);Q.length>0&&console.log(Q[0].object)}window.addEventListener("click",Z,!1)};return(se,G)=>(Ae(),Le("div",null,[Ve,I.value!==100?(Ae(),Le("div",ze,[_e("div",Ke,Oe(I.value)+" %",1)])):Ce("",!0)]))}}),Xe=De(We);Xe.mount("#app");
